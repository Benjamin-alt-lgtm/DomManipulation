<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>studentRegister</title>
</head>

<body>
    <h1>Student Register</h1>
    <div id="student-container"></div>
    <h2> student class</h2>
    <div id="class-container"></div>
    <h2>Student grade</h2>
    <div id="student-grade"></div>
    <script>
        //array of student 
        let students = [
            { name: "Ada", class: "JSS1", score: 85 },
            { name: "Bola", class: "JSS1", score: 45 },
            { name: "Chidi", class: "JSS2", score: 92 },
            { name: "Deji", class: "JSS2", score: 65 },
            { name: "Emeka", class: "JSS3", score: 30 },
            { name: "Femi", class: "JSS3", score: 55 },
            { name: "Grace", class: "JSS1", score: 78 },
            { name: "Hassan", class: "JSS2", score: 42 }
        ];

        //find student container
        let studentContainer = document.querySelector('#student-container')
        let title = document.createElement('h2')
        title.innerText = 'ALL STUDENT REGISTER'
        studentContainer.appendChild(title);

        //create a div for the table
        let studentList = document.createElement('div')
        studentList.id = 'studentList'
        studentContainer.appendChild(studentList)

        // Build the table
        let studentHTML = "<table><tr><th>SN</th><th>Name</th><th>Class</th><th>Score</th></tr>";
        let number = 1;

        students.forEach((student) => {
            studentHTML += `<tr><td>${number++}.</td><td>${student.name}</td><td>${student.class}</td><td>${student.score}</td></tr>`;
        });

        studentHTML += "</table><hr>";

        studentContainer.innerHTML += studentHTML

        // Find class container
        let classContainer = document.querySelector('#class-container');
        
       //using map to group classes
        const classes = [...new Set(students.map(student => student.class))];
     
       
        classes.forEach(className => {
            const classStudents = students.filter(student => student.class === className);

            // Create a heading for the class
            let classTitle = document.createElement('h3');
            classTitle.innerText = className;
            classContainer.appendChild(classTitle);
           

            // Create a table for the class
            let classHTML = "<table><tr><th>SN</th><th>Name</th><th>Score</th></tr>";
            let classNumber = 1;

            classStudents.forEach(student => {
                classHTML += `<tr><td>${classNumber++}.</td><td>${student.name}</td><td>${student.score}</td></tr>`;
            });

            classHTML += "</table><hr>";
            classContainer.innerHTML += classHTML;
        });
        
    </script>

</body>

</html>